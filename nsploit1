local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "NSPLO1t"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Main Button
local button = Instance.new("ImageButton")
button.Size = UDim2.new(0, 80, 0, 40)
button.Position = UDim2.new(0.1, 0, 0.1, 0)
button.Image = "rbxassetid://131338093875576"
button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
button.Parent = gui

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0.3, 0)
buttonCorner.Parent = button

-- Main UI Frame
local nsFrame = Instance.new("Frame")
nsFrame.Size = UDim2.new(0.4, 0, 0.4, 0)
nsFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
nsFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
nsFrame.Visible = false
nsFrame.Parent = gui

local nsFrameCorner = Instance.new("UICorner")
nsFrameCorner.CornerRadius = UDim.new(0.1, 0)
nsFrameCorner.Parent = nsFrame

-- Loading Bar
local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(0.8, 0, 0.1, 0)
loadingFrame.Position = UDim2.new(0.1, 0, 0.9, 0)
loadingFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 50)
loadingFrame.Parent = nsFrame

local loadingBar = Instance.new("Frame")
loadingBar.Size = UDim2.new(0, 0, 1, 0)
loadingBar.BackgroundColor3 = Color3.fromRGB(0, 0, 150)
loadingBar.Parent = loadingFrame

local function animateLoading()
    for i = 1, 100, 2 do
        loadingBar.Size = UDim2.new(i / 100, 0, 1, 0)
        wait(0.02)
    end
    loadingFrame:Destroy()
end

animateLoading()

-- Tabs
local tabs = {"Home", "TP", "Misc", "Settings"}
local tabButtons = {}

for i, name in ipairs(tabs) do
    local tab = Instance.new("TextButton")
    tab.Size = UDim2.new(0.1, 0, 0.08, 0)
    tab.Position = UDim2.new(0.02, 0, 0.15 + (i - 1) * 0.1, 0)
    tab.Text = name
    tab.TextScaled = true
    tab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    tab.TextColor3 = Color3.fromRGB(0, 150, 255)
    tab.Parent = nsFrame

    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0.3, 0)
    tabCorner.Parent = tab

    tabButtons[name] = tab
end

-- Home Tab Content
local homeFrame = Instance.new("Frame")
homeFrame.Size = UDim2.new(1, 0, 0.7, 0)
homeFrame.Position = UDim2.new(0, 0, 0.3, 0)
homeFrame.BackgroundTransparency = 1
homeFrame.Parent = nsFrame

local userLabel = Instance.new("TextLabel")
userLabel.Size = UDim2.new(0.5, 0, 0.07, 0)
userLabel.Position = UDim2.new(0.02, 0, 0.02, 0)
userLabel.Text = "User: " .. player.Name
userLabel.TextScaled = true
userLabel.TextColor3 = Color3.new(1, 1, 1)
userLabel.Parent = homeFrame

local avatar = Instance.new("ImageLabel")
avatar.Size = UDim2.new(0.1, 0, 0.1, 0)
avatar.Position = UDim2.new(0.6, 0, 0.02, 0)
avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId="..player.UserId.."&width=150&height=150&format=png"
avatar.Parent = homeFrame

local gameLabel = Instance.new("TextLabel")
gameLabel.Size = UDim2.new(0.5, 0, 0.07, 0)
gameLabel.Position = UDim2.new(0.02, 0, 0.1, 0)
gameLabel.Text = "Game: " .. game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
gameLabel.TextScaled = true
gameLabel.TextColor3 = Color3.new(1, 1, 1)
gameLabel.Parent = homeFrame

-- TP Tab Content
local tpFrame = Instance.new("Frame")
tpFrame.Size = UDim2.new(1, 0, 0.6, 0)
tpFrame.Position = UDim2.new(0, 0, 0.3, 0)
tpFrame.BackgroundTransparency = 1
tpFrame.Visible = false
tpFrame.Parent = nsFrame

if gameLabel.Text == "Proxima Hangout" then
    local tpButton = Instance.new("TextButton")
    tpButton.Size = UDim2.new(0.5, 0, 0.2, 0)
    tpButton.Position = UDim2.new(0.25, 0, 0.2, 0)
    tpButton.Text = "Top Cube"
    tpButton.TextScaled = true
    tpButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    tpButton.TextColor3 = Color3.new(1, 1, 1)
    tpButton.Parent = tpFrame

    tpButton.MouseButton1Click:Connect(function()
        local destination = game.Workspace:FindFirstChild("TeleportDestination")
        if destination then
            player.Character:SetPrimaryPartCFrame(destination.CFrame)
        end
    end)
end

-- Misc Tab Content
local miscFrame = Instance.new("Frame")
miscFrame.Size = UDim2.new(1, 0, 0.6, 0)
miscFrame.Position = UDim2.new(0, 0, 0.3, 0)
miscFrame.BackgroundTransparency = 1
miscFrame.Visible = false
miscFrame.Parent = nsFrame

local rejoinButton = Instance.new("TextButton")
rejoinButton.Size = UDim2.new(0.5, 0, 0.2, 0)
rejoinButton.Position = UDim2.new(0.25, 0, 0.2, 0)
rejoinButton.Text = "Rejoin"
rejoinButton.TextScaled = true
rejoinButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
rejoinButton.TextColor3 = Color3.new(1, 1, 1)
rejoinButton.Parent = miscFrame

rejoinButton.MouseButton1Click:Connect(function()
    player:Kick("Rejoin is in development. For now we just kick you :D")
end)

-- Toggle UI
button.MouseButton1Click:Connect(function()
    nsFrame.Visible = not nsFrame.Visible
end)

-- Tab Switching
for tab, btn in pairs(tabButtons) do
    btn.MouseButton1Click:Connect(function()
        homeFrame.Visible = tab == "Home"
        tpFrame.Visible = tab == "TP"
        miscFrame.Visible = tab == "Misc"
    end)
end
